<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>‚ö° Quiz Camera FAST</title>

<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

video {
  width: 100vw;
  height: 70vh;
  object-fit: cover;
}

#answer {
  font-size: 80px;
  font-weight: bold;
  color: lime;
  animation: blink 0.8s infinite;
}

@keyframes blink {
  0% {opacity: 1;}
  50% {opacity: 0.2;}
  100% {opacity: 1;}
}

button {
  padding: 15px 30px;
  font-size: 18px;
  background: #00e676;
  border: none;
  border-radius: 10px;
}
</style>
</head>

<body>

<h2>‚ö° Quiz Camera FAST</h2>

<video id="video" autoplay muted></video>

<br>
<button onclick="startCamera()">üì∑ Activer la cam√©ra</button>

<div id="answer"></div>

<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>

<script>
const video = document.getElementById("video");
const answerDiv = document.getElementById("answer");

async function startCamera() {
  const stream = await navigator.mediaDevices.getUserMedia({ video: true });
  video.srcObject = stream;

  setInterval(scanText, 3000);
}

async function scanText() {
  const canvas = document.createElement("canvas");
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;

  const ctx = canvas.getContext("2d");
  ctx.drawImage(video, 0, 0);

  const result = await Tesseract.recognize(canvas, "fra");
  const text = result.data.text.toLowerCase();

  detectAnswer(text);
}

function detectAnswer(text) {

  // üß† SCIENCE
  if (text.includes("minute") && text.includes("seconde")) return show("A");
  if (text.includes("eau") && text.includes("formule")) return show("H‚ÇÇO");
  if (text.includes("plan√®te") && text.includes("rouge")) return show("Mars");
  if (text.includes("soleil") && text.includes("proche")) return show("Mercure");
  if (text.includes("eau") && text.includes("bouillir")) return show("100¬∞C");
  if (text.includes("os") && text.includes("humain")) return show("206");

  // ‚ûï MATH
  if (text.match(/\d+\s*\+\s*\d+/)) return show("A");
  if (text.match(/\d+\s*\√ó\s*\d+/)) return show("A");

  // üåç G√âN√âRAL
  if (text.includes("capitale") && text.includes("france")) return show("Paris");
  if (text.includes("afrique") && text.includes("plus grand")) return show("Alg√©rie");

  // üü¢ DEFAULT INTELLIGENT
  autoPick(text);
}

function autoPick(text) {
  if (text.includes("a")) return show("A");
  if (text.includes("b")) return show("B");
  if (text.includes("c")) return show("C");
  if (text.includes("d")) return show("D");
  if (text.includes("e")) return show("E");
  if (text.includes("f")) return show("F");
  if (text.includes("g")) return show("G");

  show("‚ùå");
}

function show(val) {
  answerDiv.innerText = val;
}
</script>

</body>
</html>
